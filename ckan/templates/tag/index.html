<html xmlns:py="http://genshi.edgewall.org/"
  xmlns:xi="http://www.w3.org/2001/XInclude">
  
  <py:def function="page_title">Tags - Index</py:def>

  <div py:match="content">
    <h2>Tags</h2>

    <form action="" method="GET">
      <input type="text" id="search_terms" name="search_terms" value="${c.search_terms}" />
      <input type="submit" name="search" value="Search &raquo;" />
    </form>
    
    <hr />
    
    <p>
      There ${plural(c.page.item_count, 'is', 'are')} <strong>${c.page.item_count}</strong>
      <py:choose test="">
        <py:when test="c.search_terms">
          ${plural(c.page.item_count, 'result', 'results')} for &lsquo;<strong>${c.search_terms.strip()}</strong>&rsquo;.
        </py:when>
        <py:otherwise>
          ${plural(c.page.item_count, 'tag.', 'tags.')}
        </py:otherwise>
      </py:choose>
    </p>
    
    ${c.page.pager()}
    ${tag_list(c.page.items)}
    ${c.page.pager()}
    
    <p py:if="c.search_terms">
      ${h.link_to('Clear search', h.url_for(controller='tag', action='index', id=None))} and see all tags.
    </p>
    
  </div>

  <xi:include href="layout.html" />
</html>
