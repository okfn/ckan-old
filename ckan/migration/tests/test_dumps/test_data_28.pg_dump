--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = off;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET escape_string_warning = off;

SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: authorization_group; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE authorization_group (
    id text NOT NULL,
    name text,
    created timestamp without time zone
);


ALTER TABLE public.authorization_group OWNER TO postgres;

--
-- Name: authorization_group_role; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE authorization_group_role (
    user_object_role_id text NOT NULL,
    authorization_group_id text
);


ALTER TABLE public.authorization_group_role OWNER TO postgres;

--
-- Name: authorization_group_user; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE authorization_group_user (
    id text NOT NULL,
    authorization_group_id text NOT NULL,
    user_id text NOT NULL
);


ALTER TABLE public.authorization_group_user OWNER TO postgres;

--
-- Name: change; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE change (
    ref text,
    diff text,
    changeset_id text
);


ALTER TABLE public.change OWNER TO postgres;

--
-- Name: changemask; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE changemask (
    ref text NOT NULL,
    "timestamp" timestamp without time zone
);


ALTER TABLE public.changemask OWNER TO postgres;

--
-- Name: changeset; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE changeset (
    id text NOT NULL,
    closes_id text,
    follows_id text,
    meta text,
    branch text,
    "timestamp" timestamp without time zone,
    is_working boolean,
    revision_id text,
    added_here timestamp without time zone
);


ALTER TABLE public.changeset OWNER TO postgres;

--
-- Name: group; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE "group" (
    id text NOT NULL,
    name text NOT NULL,
    title text,
    description text,
    created timestamp without time zone
);


ALTER TABLE public."group" OWNER TO postgres;

--
-- Name: group_extra; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE group_extra (
    id text NOT NULL,
    group_id text,
    key text,
    value text
);


ALTER TABLE public.group_extra OWNER TO postgres;

--
-- Name: group_role; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE group_role (
    user_object_role_id text NOT NULL,
    group_id text
);


ALTER TABLE public.group_role OWNER TO postgres;

--
-- Name: harvest_source; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE harvest_source (
    id text NOT NULL,
    status text NOT NULL,
    url text NOT NULL,
    description text,
    user_ref text,
    publisher_ref text,
    created timestamp without time zone
);


ALTER TABLE public.harvest_source OWNER TO postgres;

--
-- Name: harvested_document; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE harvested_document (
    id text NOT NULL,
    created timestamp without time zone,
    url text NOT NULL,
    content text NOT NULL
);


ALTER TABLE public.harvested_document OWNER TO postgres;

--
-- Name: harvesting_job; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE harvesting_job (
    id text NOT NULL,
    status text NOT NULL,
    created timestamp without time zone,
    user_ref text NOT NULL,
    report text,
    source_id text
);


ALTER TABLE public.harvesting_job OWNER TO postgres;

--
-- Name: migrate_version; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE migrate_version (
    repository_id character varying(255) NOT NULL,
    repository_path text,
    version integer
);


ALTER TABLE public.migrate_version OWNER TO postgres;

--
-- Name: package; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package (
    id text NOT NULL,
    name character varying(100) NOT NULL,
    title text,
    version character varying(100),
    url text,
    author text,
    author_email text,
    maintainer text,
    maintainer_email text,
    notes text,
    license_id text,
    state text,
    revision_id text
);


ALTER TABLE public.package OWNER TO postgres;

--
-- Name: package_extra; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_extra (
    id text NOT NULL,
    package_id text,
    key text,
    value text,
    state text,
    revision_id text
);


ALTER TABLE public.package_extra OWNER TO postgres;

--
-- Name: package_extra_revision; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_extra_revision (
    id text NOT NULL,
    package_id text,
    key text,
    value text,
    state text,
    revision_id text NOT NULL,
    continuity_id text
);


ALTER TABLE public.package_extra_revision OWNER TO postgres;

--
-- Name: package_group; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_group (
    id text NOT NULL,
    package_id text,
    group_id text
);


ALTER TABLE public.package_group OWNER TO postgres;

--
-- Name: package_relationship; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_relationship (
    id text NOT NULL,
    subject_package_id text,
    object_package_id text,
    type text,
    comment text,
    state text,
    revision_id text
);


ALTER TABLE public.package_relationship OWNER TO postgres;

--
-- Name: package_relationship_revision; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_relationship_revision (
    id text NOT NULL,
    subject_package_id text,
    object_package_id text,
    type text,
    comment text,
    state text,
    revision_id text NOT NULL,
    continuity_id text
);


ALTER TABLE public.package_relationship_revision OWNER TO postgres;

--
-- Name: package_resource; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_resource (
    id text NOT NULL,
    package_id text,
    url text NOT NULL,
    format text,
    description text,
    hash text,
    "position" integer,
    state text,
    revision_id text
);


ALTER TABLE public.package_resource OWNER TO postgres;

--
-- Name: package_resource_revision; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_resource_revision (
    id text NOT NULL,
    package_id text,
    url text NOT NULL,
    format text,
    description text,
    hash text,
    "position" integer,
    state text,
    revision_id text NOT NULL,
    continuity_id text
);


ALTER TABLE public.package_resource_revision OWNER TO postgres;

--
-- Name: package_revision; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_revision (
    id text NOT NULL,
    name character varying(100) NOT NULL,
    title text,
    version character varying(100),
    url text,
    author text,
    author_email text,
    maintainer text,
    maintainer_email text,
    notes text,
    license_id text,
    state text,
    revision_id text NOT NULL,
    continuity_id text
);


ALTER TABLE public.package_revision OWNER TO postgres;

--
-- Name: package_role; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_role (
    user_object_role_id text NOT NULL,
    package_id text
);


ALTER TABLE public.package_role OWNER TO postgres;

--
-- Name: package_search; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_search (
    package_id text NOT NULL,
    search_vector tsvector
);


ALTER TABLE public.package_search OWNER TO postgres;

--
-- Name: package_tag; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_tag (
    id text NOT NULL,
    package_id text,
    tag_id text,
    state text,
    revision_id text
);


ALTER TABLE public.package_tag OWNER TO postgres;

--
-- Name: package_tag_revision; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE package_tag_revision (
    id text NOT NULL,
    package_id text,
    tag_id text,
    state text,
    revision_id text NOT NULL,
    continuity_id text
);


ALTER TABLE public.package_tag_revision OWNER TO postgres;

--
-- Name: rating; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE rating (
    id text NOT NULL,
    user_id text,
    user_ip_address text,
    package_id text,
    rating real,
    created timestamp without time zone
);


ALTER TABLE public.rating OWNER TO postgres;

--
-- Name: revision; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE revision (
    id text NOT NULL,
    "timestamp" timestamp without time zone,
    author character varying(200),
    message text,
    state text
);


ALTER TABLE public.revision OWNER TO postgres;

--
-- Name: role_action; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE role_action (
    id text NOT NULL,
    role text,
    context text NOT NULL,
    action text
);


ALTER TABLE public.role_action OWNER TO postgres;

--
-- Name: system_role; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE system_role (
    user_object_role_id text NOT NULL
);


ALTER TABLE public.system_role OWNER TO postgres;

--
-- Name: tag; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE tag (
    id text NOT NULL,
    name character varying(100) NOT NULL
);


ALTER TABLE public.tag OWNER TO postgres;

--
-- Name: user; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE "user" (
    id text NOT NULL,
    name text,
    apikey text,
    created timestamp without time zone,
    about text
);


ALTER TABLE public."user" OWNER TO postgres;

--
-- Name: user_object_role; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE user_object_role (
    id text NOT NULL,
    user_id text,
    authorized_group_id text,
    context text NOT NULL,
    role text
);


ALTER TABLE public.user_object_role OWNER TO postgres;

--
-- Data for Name: authorization_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY authorization_group (id, name, created) FROM stdin;
\.


--
-- Data for Name: authorization_group_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY authorization_group_role (user_object_role_id, authorization_group_id) FROM stdin;
\.


--
-- Data for Name: authorization_group_user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY authorization_group_user (id, authorization_group_id, user_id) FROM stdin;
\.


--
-- Data for Name: change; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY change (ref, diff, changeset_id) FROM stdin;
\.


--
-- Data for Name: changemask; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY changemask (ref, "timestamp") FROM stdin;
\.


--
-- Data for Name: changeset; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY changeset (id, closes_id, follows_id, meta, branch, "timestamp", is_working, revision_id, added_here) FROM stdin;
\.


--
-- Data for Name: group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY "group" (id, name, title, description, created) FROM stdin;
a913cbed-2980-4e80-9102-0b859acddd06	david	Dave's books	These are books that David likes.	2010-10-29 20:48:09.369284
d0b1101f-ce0f-4949-a15b-16c2410862a1	roger	Roger's books	Roger likes these books.	2010-10-29 20:48:09.374087
\.


--
-- Data for Name: group_extra; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY group_extra (id, group_id, key, value) FROM stdin;
\.


--
-- Data for Name: group_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY group_role (user_object_role_id, group_id) FROM stdin;
b2b3f46d-da24-4e94-8b16-08acaad0fae5	a913cbed-2980-4e80-9102-0b859acddd06
dca056a5-c04d-4c8f-ab22-e665091671cc	a913cbed-2980-4e80-9102-0b859acddd06
9efb1389-8562-4aad-8d5e-d039a2db5e72	a913cbed-2980-4e80-9102-0b859acddd06
b48f4abe-9d3e-4306-805f-d77c5584993e	d0b1101f-ce0f-4949-a15b-16c2410862a1
130e5cf5-ec96-4152-8cce-5c6795677a29	d0b1101f-ce0f-4949-a15b-16c2410862a1
3fcad869-6c2e-4c01-be5d-a05f10eb3389	d0b1101f-ce0f-4949-a15b-16c2410862a1
db87b9db-afe0-4617-9cfe-538d30000434	d0b1101f-ce0f-4949-a15b-16c2410862a1
\.


--
-- Data for Name: harvest_source; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY harvest_source (id, status, url, description, user_ref, publisher_ref, created) FROM stdin;
\.


--
-- Data for Name: harvested_document; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY harvested_document (id, created, url, content) FROM stdin;
\.


--
-- Data for Name: harvesting_job; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY harvesting_job (id, status, created, user_ref, report, source_id) FROM stdin;
\.


--
-- Data for Name: migrate_version; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY migrate_version (repository_id, repository_path, version) FROM stdin;
Ckan	/Users/fl/Code/ckan/ckan/migration	26
\.


--
-- Data for Name: package; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package (id, name, title, version, url, author, author_email, maintainer, maintainer_email, notes, license_id, state, revision_id) FROM stdin;
bc606faa-5037-4a68-8e3a-aa62c94bd4f1	annakarenina	A Novel By Tolstoy	0.7a	http://www.annakarenina.com	\N	\N	\N	\N	Some test notes\n\n### A 3rd level heading\n\n**Some bolded text.**\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut ü\n66-style quote “\nforeign word: thümb\n \nNeeds escaping:\nleft arrow <\n\n<http://ckan.net/>\n\n	other-open	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6
9f68f356-cd58-4d40-a2c0-271f6f1ce97d	warandpeace	A Wonderful Story	\N	\N	\N	\N	\N	\N	\N	\N	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6
\.


--
-- Data for Name: package_extra; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_extra (id, package_id, key, value, state, revision_id) FROM stdin;
7e968034-d515-4a8d-a60f-c8c9aae82b92	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	genre	"romantic novel"	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6
b46db84a-1187-4612-a3f0-875261de5964	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	original media	"book"	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6
\.


--
-- Data for Name: package_extra_revision; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_extra_revision (id, package_id, key, value, state, revision_id, continuity_id) FROM stdin;
7e968034-d515-4a8d-a60f-c8c9aae82b92	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	genre	"romantic novel"	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6	7e968034-d515-4a8d-a60f-c8c9aae82b92
b46db84a-1187-4612-a3f0-875261de5964	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	original media	"book"	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6	b46db84a-1187-4612-a3f0-875261de5964
\.


--
-- Data for Name: package_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_group (id, package_id, group_id) FROM stdin;
5d7e2cd9-b956-4d8a-b1ed-5f68dc856417	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	a913cbed-2980-4e80-9102-0b859acddd06
087af1be-dba1-4d2d-a5cd-bbb423dd8593	9f68f356-cd58-4d40-a2c0-271f6f1ce97d	a913cbed-2980-4e80-9102-0b859acddd06
7e108bf5-09ab-48c3-ade8-c3a989b742cf	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	d0b1101f-ce0f-4949-a15b-16c2410862a1
\.


--
-- Data for Name: package_relationship; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_relationship (id, subject_package_id, object_package_id, type, comment, state, revision_id) FROM stdin;
\.


--
-- Data for Name: package_relationship_revision; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_relationship_revision (id, subject_package_id, object_package_id, type, comment, state, revision_id, continuity_id) FROM stdin;
\.


--
-- Data for Name: package_resource; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_resource (id, package_id, url, format, description, hash, "position", state, revision_id) FROM stdin;
1701d956-d12b-4790-bc37-6a547d8170c1	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	http://www.annakarenina.com/download/x=1&y=2	plain text	Full text. Needs escaping: " Umlaut: ü	abc123	0	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6
2e82b1dd-80ff-4705-a63e-7b8113fb25d6	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	http://www.annakarenina.com/index.json	json	Index of the novel	def456	1	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6
\.


--
-- Data for Name: package_resource_revision; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_resource_revision (id, package_id, url, format, description, hash, "position", state, revision_id, continuity_id) FROM stdin;
2e82b1dd-80ff-4705-a63e-7b8113fb25d6	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	http://www.annakarenina.com/index.json	json	Index of the novel	def456	1	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6	2e82b1dd-80ff-4705-a63e-7b8113fb25d6
1701d956-d12b-4790-bc37-6a547d8170c1	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	http://www.annakarenina.com/download/x=1&y=2	plain text	Full text. Needs escaping: " Umlaut: ü	abc123	0	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6	1701d956-d12b-4790-bc37-6a547d8170c1
\.


--
-- Data for Name: package_revision; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_revision (id, name, title, version, url, author, author_email, maintainer, maintainer_email, notes, license_id, state, revision_id, continuity_id) FROM stdin;
bc606faa-5037-4a68-8e3a-aa62c94bd4f1	annakarenina	A Novel By Tolstoy	0.7a	http://www.annakarenina.com	\N	\N	\N	\N	Some test notes\n\n### A 3rd level heading\n\n**Some bolded text.**\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut ü\n66-style quote “\nforeign word: thümb\n \nNeeds escaping:\nleft arrow <\n\n<http://ckan.net/>\n\n	other-open	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6	bc606faa-5037-4a68-8e3a-aa62c94bd4f1
9f68f356-cd58-4d40-a2c0-271f6f1ce97d	warandpeace	A Wonderful Story	\N	\N	\N	\N	\N	\N	\N	\N	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6	9f68f356-cd58-4d40-a2c0-271f6f1ce97d
\.


--
-- Data for Name: package_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_role (user_object_role_id, package_id) FROM stdin;
8821d91f-64ed-4747-8c8a-2e41a7ca70e1	bc606faa-5037-4a68-8e3a-aa62c94bd4f1
ac5c92f2-e888-40e4-9201-168856b2864b	bc606faa-5037-4a68-8e3a-aa62c94bd4f1
73683dcc-296b-4045-8be5-4069e775f839	bc606faa-5037-4a68-8e3a-aa62c94bd4f1
d76a81a1-2893-4153-a2d6-6fbc08d750f8	9f68f356-cd58-4d40-a2c0-271f6f1ce97d
60eca97c-4e94-471a-8083-16a2b61b77d4	9f68f356-cd58-4d40-a2c0-271f6f1ce97d
8a5347cb-78ac-4d4c-82a2-9305609840af	9f68f356-cd58-4d40-a2c0-271f6f1ce97d
99a7f733-c798-442c-91ff-1624459a1fad	9f68f356-cd58-4d40-a2c0-271f6f1ce97d
\.


--
-- Data for Name: package_search; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_search (package_id, search_vector) FROM stdin;
bc606faa-5037-4a68-8e3a-aa62c94bd4f1	'3rd':10 '66':25 'annakarenina':1A 'arrow':35 'bold':14 'book':43 'charact':20 'ckan.net':36 'david':39 'escap':33 'foreign':19,29 'head':12 'italic':17 'left':34 'level':11 'need':32 'note':8 'novel':3A,42 'quot':27 'roger':40 'romant':41 'russian':37 'style':26 'test':7 'text':15,18 'thümb':31 'tolstoy':5A,38 'u':21 'umlaut':23 'word':30 'ü':24 '“':28
9f68f356-cd58-4d40-a2c0-271f6f1ce97d	'david':6 'russian':5 'stori':4A 'warandpeac':1A 'wonder':3A
\.


--
-- Data for Name: package_tag; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_tag (id, package_id, tag_id, state, revision_id) FROM stdin;
7adce23f-0d22-4c7d-b560-f75d2ab01256	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	eff36a69-4479-48bd-9c1b-37618b82729b	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6
6c2d0013-aa3e-4132-997f-c9b354ab7929	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	23b07e1e-f220-4902-9878-8c1db29fb9e1	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6
cd123ce8-658f-437d-855c-a862ea58eb38	9f68f356-cd58-4d40-a2c0-271f6f1ce97d	eff36a69-4479-48bd-9c1b-37618b82729b	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6
\.


--
-- Data for Name: package_tag_revision; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY package_tag_revision (id, package_id, tag_id, state, revision_id, continuity_id) FROM stdin;
6c2d0013-aa3e-4132-997f-c9b354ab7929	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	23b07e1e-f220-4902-9878-8c1db29fb9e1	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6	6c2d0013-aa3e-4132-997f-c9b354ab7929
7adce23f-0d22-4c7d-b560-f75d2ab01256	bc606faa-5037-4a68-8e3a-aa62c94bd4f1	eff36a69-4479-48bd-9c1b-37618b82729b	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6	7adce23f-0d22-4c7d-b560-f75d2ab01256
cd123ce8-658f-437d-855c-a862ea58eb38	9f68f356-cd58-4d40-a2c0-271f6f1ce97d	eff36a69-4479-48bd-9c1b-37618b82729b	active	fb1b1222-34ca-4ef8-b8a5-77274b760ac6	cd123ce8-658f-437d-855c-a862ea58eb38
\.


--
-- Data for Name: rating; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY rating (id, user_id, user_ip_address, package_id, rating, created) FROM stdin;
\.


--
-- Data for Name: revision; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY revision (id, "timestamp", author, message, state) FROM stdin;
aa4f620c-7bcc-4385-8ea8-60759eb2ec03	2010-10-29 20:48:00.833009	system	Initialising the Repository	active
fb1b1222-34ca-4ef8-b8a5-77274b760ac6	2010-10-29 20:48:09.344019	tester	Creating test data.\n * Package: annakarenina\n * Package: warandpeace\n * Associated tags, etc etc\n	active
\.


--
-- Data for Name: role_action; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY role_action (id, role, context, action) FROM stdin;
b202c58e-e604-4c5e-87a9-be4bbd8eafee	editor		edit
a80d2460-ff12-44a5-bd80-5efaa562713d	editor		create-package
a439ce51-9cfb-487d-95e2-578c7b51f89e	editor		create-group
a0c9db05-1072-4860-858a-7d3a4b2fcc4d	editor		create-authorization-group
3c5bf064-d823-46f1-9d1f-3c3aec0c1b62	editor		read
ec366ba3-b428-4a0c-aa11-38b636785804	reader		create-package
d20babb8-47bd-412b-a4bd-b11cbbce2a68	reader		read
\.


--
-- Data for Name: system_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY system_role (user_object_role_id) FROM stdin;
1fb8d532-d1f1-4ed3-8c2f-df3487872559
73507154-103c-49f6-a6fd-63d5546662d0
\.


--
-- Data for Name: tag; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY tag (id, name) FROM stdin;
eff36a69-4479-48bd-9c1b-37618b82729b	russian
23b07e1e-f220-4902-9878-8c1db29fb9e1	tolstoy
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY "user" (id, name, apikey, created, about) FROM stdin;
1e874c70-d8ac-477b-b2b4-daac4d58d95a	visitor	9a2a31ac-8d07-4bdc-9cbf-a8286c9a2abb	2010-10-29 20:48:00.737093	\N
4821b074-3c1b-46c8-8582-72958cfa1839	logged_in	35441e97-d004-421e-8c23-afbd7931cfe1	2010-10-29 20:48:00.739757	\N
b4d2883a-9682-4544-9df8-0a3058ac1cae	tester	tester	2010-10-29 20:48:09.324762	\N
96162d60-b27a-44fb-b0f7-948098c3efc7	joeadmin	14d9c692-cb05-4ecc-99a4-09b189f7ca51	2010-10-29 20:48:09.888512	\N
02afa6d7-463b-4234-aed3-98a0cb7bf57d	annafan	5583e4e7-5d3b-4a9d-aaf8-0c2f70b21d63	2010-10-29 20:48:09.88974	I love reading Annakarenina
984e9853-8d36-4457-a5e6-a9e08fc008de	russianfan	be2dd9cb-2de8-4102-ad94-e8d99bc86498	2010-10-29 20:48:09.890479	\N
83352a54-aea9-47ef-bb3b-24b21addf8d0	testsysadmin	3349cf25-c847-42ce-b4b6-c7609f47c032	2010-10-29 20:48:09.891171	\N
\.


--
-- Data for Name: user_object_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY user_object_role (id, user_id, authorized_group_id, context, role) FROM stdin;
1fb8d532-d1f1-4ed3-8c2f-df3487872559	1e874c70-d8ac-477b-b2b4-daac4d58d95a	\N	System	reader
73507154-103c-49f6-a6fd-63d5546662d0	4821b074-3c1b-46c8-8582-72958cfa1839	\N	System	editor
8821d91f-64ed-4747-8c8a-2e41a7ca70e1	1e874c70-d8ac-477b-b2b4-daac4d58d95a	\N	Package	editor
ac5c92f2-e888-40e4-9201-168856b2864b	4821b074-3c1b-46c8-8582-72958cfa1839	\N	Package	editor
73683dcc-296b-4045-8be5-4069e775f839	02afa6d7-463b-4234-aed3-98a0cb7bf57d	\N	Package	admin
d76a81a1-2893-4153-a2d6-6fbc08d750f8	1e874c70-d8ac-477b-b2b4-daac4d58d95a	\N	Package	editor
60eca97c-4e94-471a-8083-16a2b61b77d4	4821b074-3c1b-46c8-8582-72958cfa1839	\N	Package	editor
8a5347cb-78ac-4d4c-82a2-9305609840af	984e9853-8d36-4457-a5e6-a9e08fc008de	\N	Package	admin
99a7f733-c798-442c-91ff-1624459a1fad	1e874c70-d8ac-477b-b2b4-daac4d58d95a	\N	Package	admin
b2b3f46d-da24-4e94-8b16-08acaad0fae5	1e874c70-d8ac-477b-b2b4-daac4d58d95a	\N	Group	reader
dca056a5-c04d-4c8f-ab22-e665091671cc	4821b074-3c1b-46c8-8582-72958cfa1839	\N	Group	reader
9efb1389-8562-4aad-8d5e-d039a2db5e72	984e9853-8d36-4457-a5e6-a9e08fc008de	\N	Group	admin
b48f4abe-9d3e-4306-805f-d77c5584993e	1e874c70-d8ac-477b-b2b4-daac4d58d95a	\N	Group	reader
130e5cf5-ec96-4152-8cce-5c6795677a29	4821b074-3c1b-46c8-8582-72958cfa1839	\N	Group	reader
3fcad869-6c2e-4c01-be5d-a05f10eb3389	984e9853-8d36-4457-a5e6-a9e08fc008de	\N	Group	admin
db87b9db-afe0-4617-9cfe-538d30000434	1e874c70-d8ac-477b-b2b4-daac4d58d95a	\N	Group	admin
\.


--
-- Name: authorization_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY authorization_group
    ADD CONSTRAINT authorization_group_pkey PRIMARY KEY (id);


--
-- Name: authorization_group_role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY authorization_group_role
    ADD CONSTRAINT authorization_group_role_pkey PRIMARY KEY (user_object_role_id);


--
-- Name: authorization_group_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY authorization_group_user
    ADD CONSTRAINT authorization_group_user_pkey PRIMARY KEY (id);


--
-- Name: changemask_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY changemask
    ADD CONSTRAINT changemask_pkey PRIMARY KEY (ref);


--
-- Name: changeset_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY changeset
    ADD CONSTRAINT changeset_pkey PRIMARY KEY (id);


--
-- Name: group_extra_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY group_extra
    ADD CONSTRAINT group_extra_pkey PRIMARY KEY (id);


--
-- Name: group_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY "group"
    ADD CONSTRAINT group_name_key UNIQUE (name);


--
-- Name: group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY "group"
    ADD CONSTRAINT group_pkey PRIMARY KEY (id);


--
-- Name: group_role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY group_role
    ADD CONSTRAINT group_role_pkey PRIMARY KEY (user_object_role_id);


--
-- Name: harvest_source_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY harvest_source
    ADD CONSTRAINT harvest_source_pkey PRIMARY KEY (id);


--
-- Name: harvest_source_url_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY harvest_source
    ADD CONSTRAINT harvest_source_url_key UNIQUE (url);


--
-- Name: harvested_document_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY harvested_document
    ADD CONSTRAINT harvested_document_pkey PRIMARY KEY (id);


--
-- Name: harvesting_job_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY harvesting_job
    ADD CONSTRAINT harvesting_job_pkey PRIMARY KEY (id);


--
-- Name: migrate_version_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY migrate_version
    ADD CONSTRAINT migrate_version_pkey PRIMARY KEY (repository_id);


--
-- Name: package_extra_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_extra
    ADD CONSTRAINT package_extra_pkey PRIMARY KEY (id);


--
-- Name: package_extra_revision_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_extra_revision
    ADD CONSTRAINT package_extra_revision_pkey PRIMARY KEY (id, revision_id);


--
-- Name: package_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_group
    ADD CONSTRAINT package_group_pkey PRIMARY KEY (id);


--
-- Name: package_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package
    ADD CONSTRAINT package_name_key UNIQUE (name);


--
-- Name: package_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package
    ADD CONSTRAINT package_pkey PRIMARY KEY (id);


--
-- Name: package_relationship_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_relationship
    ADD CONSTRAINT package_relationship_pkey PRIMARY KEY (id);


--
-- Name: package_relationship_revision_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_relationship_revision
    ADD CONSTRAINT package_relationship_revision_pkey PRIMARY KEY (id, revision_id);


--
-- Name: package_resource_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_resource
    ADD CONSTRAINT package_resource_pkey PRIMARY KEY (id);


--
-- Name: package_resource_revision_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_resource_revision
    ADD CONSTRAINT package_resource_revision_pkey PRIMARY KEY (id, revision_id);


--
-- Name: package_revision_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_revision
    ADD CONSTRAINT package_revision_pkey PRIMARY KEY (id, revision_id);


--
-- Name: package_role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_role
    ADD CONSTRAINT package_role_pkey PRIMARY KEY (user_object_role_id);


--
-- Name: package_search_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_search
    ADD CONSTRAINT package_search_pkey PRIMARY KEY (package_id);


--
-- Name: package_tag_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_tag
    ADD CONSTRAINT package_tag_pkey PRIMARY KEY (id);


--
-- Name: package_tag_revision_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY package_tag_revision
    ADD CONSTRAINT package_tag_revision_pkey PRIMARY KEY (id, revision_id);


--
-- Name: rating_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY rating
    ADD CONSTRAINT rating_pkey PRIMARY KEY (id);


--
-- Name: revision_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY revision
    ADD CONSTRAINT revision_pkey PRIMARY KEY (id);


--
-- Name: role_action_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY role_action
    ADD CONSTRAINT role_action_pkey PRIMARY KEY (id);


--
-- Name: system_role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY system_role
    ADD CONSTRAINT system_role_pkey PRIMARY KEY (user_object_role_id);


--
-- Name: tag_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY tag
    ADD CONSTRAINT tag_name_key UNIQUE (name);


--
-- Name: tag_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY tag
    ADD CONSTRAINT tag_pkey PRIMARY KEY (id);


--
-- Name: user_object_role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY user_object_role
    ADD CONSTRAINT user_object_role_pkey PRIMARY KEY (id);


--
-- Name: user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY "user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: idx_extra_grp_id_pkg_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_extra_grp_id_pkg_id ON package_group USING btree (group_id, package_id);


--
-- Name: idx_extra_id_pkg_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_extra_id_pkg_id ON package_extra USING btree (id, package_id);


--
-- Name: idx_extra_pkg_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_extra_pkg_id ON package_extra USING btree (package_id);


--
-- Name: idx_group_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_group_id ON "group" USING btree (id);


--
-- Name: idx_group_name; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_group_name ON "group" USING btree (name);


--
-- Name: idx_group_pkg_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_group_pkg_id ON package_group USING btree (package_id);


--
-- Name: idx_package_extra_rev_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_extra_rev_id ON package_extra_revision USING btree (revision_id);


--
-- Name: idx_package_group_group_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_group_group_id ON package_group USING btree (group_id);


--
-- Name: idx_package_group_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_group_id ON package_group USING btree (id);


--
-- Name: idx_package_group_pkg_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_group_pkg_id ON package_group USING btree (package_id);


--
-- Name: idx_package_group_pkg_id_group_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_group_pkg_id_group_id ON package_group USING btree (group_id, package_id);


--
-- Name: idx_package_resource_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_resource_id ON package_resource USING btree (id);


--
-- Name: idx_package_resource_pkg_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_resource_pkg_id ON package_resource USING btree (package_id);


--
-- Name: idx_package_resource_pkg_id_resource_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_resource_pkg_id_resource_id ON package_resource USING btree (package_id, id);


--
-- Name: idx_package_resource_rev_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_resource_rev_id ON package_resource_revision USING btree (revision_id);


--
-- Name: idx_package_resource_url; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_resource_url ON package_resource USING btree (url);


--
-- Name: idx_package_tag_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_tag_id ON package_tag USING btree (id);


--
-- Name: idx_package_tag_pkg_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_tag_pkg_id ON package_tag USING btree (package_id);


--
-- Name: idx_package_tag_pkg_id_tag_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_tag_pkg_id_tag_id ON package_tag USING btree (tag_id, package_id);


--
-- Name: idx_package_tag_revision_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_tag_revision_id ON package_tag_revision USING btree (id);


--
-- Name: idx_package_tag_revision_pkg_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_tag_revision_pkg_id ON package_tag_revision USING btree (package_id);


--
-- Name: idx_package_tag_revision_pkg_id_tag_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_tag_revision_pkg_id_tag_id ON package_tag_revision USING btree (tag_id, package_id);


--
-- Name: idx_package_tag_revision_rev_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_tag_revision_rev_id ON package_tag_revision USING btree (revision_id);


--
-- Name: idx_package_tag_revision_tag_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_tag_revision_tag_id ON package_tag_revision USING btree (tag_id);


--
-- Name: idx_package_tag_tag_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_package_tag_tag_id ON package_tag USING btree (tag_id);


--
-- Name: idx_pkg_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_id ON package USING btree (id);


--
-- Name: idx_pkg_lname; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_lname ON package USING btree (lower((name)::text));


--
-- Name: idx_pkg_name; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_name ON package USING btree (name);


--
-- Name: idx_pkg_rev_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_rev_id ON package USING btree (revision_id);


--
-- Name: idx_pkg_revision_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_revision_id ON package_revision USING btree (id);


--
-- Name: idx_pkg_revision_name; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_revision_name ON package_revision USING btree (name);


--
-- Name: idx_pkg_revision_rev_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_revision_rev_id ON package_revision USING btree (revision_id);


--
-- Name: idx_pkg_sid; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_sid ON package USING btree (id, state);


--
-- Name: idx_pkg_slname; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_slname ON package USING btree (lower((name)::text), state);


--
-- Name: idx_pkg_sname; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_sname ON package USING btree (name, state);


--
-- Name: idx_pkg_srev_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_srev_id ON package USING btree (revision_id, state);


--
-- Name: idx_pkg_stitle; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_stitle ON package USING btree (title, state);


--
-- Name: idx_pkg_suname; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_suname ON package USING btree (upper((name)::text), state);


--
-- Name: idx_pkg_title; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_title ON package USING btree (title);


--
-- Name: idx_pkg_uname; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_pkg_uname ON package USING btree (upper((name)::text));


--
-- Name: idx_ra_action; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_ra_action ON role_action USING btree (action);


--
-- Name: idx_ra_role; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_ra_role ON role_action USING btree (role);


--
-- Name: idx_ra_role_action; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_ra_role_action ON role_action USING btree (action, role);


--
-- Name: idx_rating_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_rating_id ON rating USING btree (id);


--
-- Name: idx_rating_package_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_rating_package_id ON rating USING btree (package_id);


--
-- Name: idx_rating_user_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_rating_user_id ON rating USING btree (user_id);


--
-- Name: idx_rev_state; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_rev_state ON revision USING btree (state);


--
-- Name: idx_tag_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_tag_id ON tag USING btree (id);


--
-- Name: idx_tag_name; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_tag_name ON tag USING btree (name);


--
-- Name: idx_uor_context; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_uor_context ON user_object_role USING btree (context);


--
-- Name: idx_uor_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_uor_id ON user_object_role USING btree (id);


--
-- Name: idx_uor_role; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_uor_role ON user_object_role USING btree (role);


--
-- Name: idx_uor_user_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_uor_user_id ON user_object_role USING btree (user_id);


--
-- Name: idx_uor_user_id_role; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_uor_user_id_role ON user_object_role USING btree (user_id, role);


--
-- Name: idx_user_id; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_user_id ON "user" USING btree (id);


--
-- Name: idx_user_name; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX idx_user_name ON "user" USING btree (name);


--
-- Name: authorization_group_role_authorization_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY authorization_group_role
    ADD CONSTRAINT authorization_group_role_authorization_group_id_fkey FOREIGN KEY (authorization_group_id) REFERENCES authorization_group(id);


--
-- Name: authorization_group_role_user_object_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY authorization_group_role
    ADD CONSTRAINT authorization_group_role_user_object_role_id_fkey FOREIGN KEY (user_object_role_id) REFERENCES user_object_role(id);


--
-- Name: authorization_group_user_authorization_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY authorization_group_user
    ADD CONSTRAINT authorization_group_user_authorization_group_id_fkey FOREIGN KEY (authorization_group_id) REFERENCES authorization_group(id);


--
-- Name: authorization_group_user_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY authorization_group_user
    ADD CONSTRAINT authorization_group_user_user_id_fkey FOREIGN KEY (user_id) REFERENCES "user"(id);


--
-- Name: change_changeset_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY change
    ADD CONSTRAINT change_changeset_id_fkey FOREIGN KEY (changeset_id) REFERENCES changeset(id);


--
-- Name: changeset_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY changeset
    ADD CONSTRAINT changeset_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: group_extra_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY group_extra
    ADD CONSTRAINT group_extra_group_id_fkey FOREIGN KEY (group_id) REFERENCES "group"(id);


--
-- Name: group_role_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY group_role
    ADD CONSTRAINT group_role_group_id_fkey FOREIGN KEY (group_id) REFERENCES "group"(id);


--
-- Name: group_role_user_object_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY group_role
    ADD CONSTRAINT group_role_user_object_role_id_fkey FOREIGN KEY (user_object_role_id) REFERENCES user_object_role(id);


--
-- Name: harvesting_job_source_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY harvesting_job
    ADD CONSTRAINT harvesting_job_source_id_fkey FOREIGN KEY (source_id) REFERENCES harvest_source(id);


--
-- Name: package_extra_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_extra
    ADD CONSTRAINT package_extra_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: package_extra_revision_continuity_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_extra_revision
    ADD CONSTRAINT package_extra_revision_continuity_id_fkey FOREIGN KEY (continuity_id) REFERENCES package_extra(id);


--
-- Name: package_extra_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_extra
    ADD CONSTRAINT package_extra_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_extra_revision_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_extra_revision
    ADD CONSTRAINT package_extra_revision_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: package_extra_revision_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_extra_revision
    ADD CONSTRAINT package_extra_revision_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_group_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_group
    ADD CONSTRAINT package_group_group_id_fkey FOREIGN KEY (group_id) REFERENCES "group"(id);


--
-- Name: package_group_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_group
    ADD CONSTRAINT package_group_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: package_relationship_object_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_relationship
    ADD CONSTRAINT package_relationship_object_package_id_fkey FOREIGN KEY (object_package_id) REFERENCES package(id);


--
-- Name: package_relationship_revision_continuity_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_relationship_revision
    ADD CONSTRAINT package_relationship_revision_continuity_id_fkey FOREIGN KEY (continuity_id) REFERENCES package_relationship(id);


--
-- Name: package_relationship_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_relationship
    ADD CONSTRAINT package_relationship_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_relationship_revision_object_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_relationship_revision
    ADD CONSTRAINT package_relationship_revision_object_package_id_fkey FOREIGN KEY (object_package_id) REFERENCES package(id);


--
-- Name: package_relationship_revision_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_relationship_revision
    ADD CONSTRAINT package_relationship_revision_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_relationship_revision_subject_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_relationship_revision
    ADD CONSTRAINT package_relationship_revision_subject_package_id_fkey FOREIGN KEY (subject_package_id) REFERENCES package(id);


--
-- Name: package_relationship_subject_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_relationship
    ADD CONSTRAINT package_relationship_subject_package_id_fkey FOREIGN KEY (subject_package_id) REFERENCES package(id);


--
-- Name: package_resource_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_resource
    ADD CONSTRAINT package_resource_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: package_resource_revision_continuity_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_resource_revision
    ADD CONSTRAINT package_resource_revision_continuity_id_fkey FOREIGN KEY (continuity_id) REFERENCES package_resource(id);


--
-- Name: package_resource_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_resource
    ADD CONSTRAINT package_resource_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_resource_revision_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_resource_revision
    ADD CONSTRAINT package_resource_revision_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: package_resource_revision_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_resource_revision
    ADD CONSTRAINT package_resource_revision_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_revision_continuity_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_revision
    ADD CONSTRAINT package_revision_continuity_id_fkey FOREIGN KEY (continuity_id) REFERENCES package(id);


--
-- Name: package_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package
    ADD CONSTRAINT package_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_revision_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_revision
    ADD CONSTRAINT package_revision_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_role_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_role
    ADD CONSTRAINT package_role_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: package_role_user_object_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_role
    ADD CONSTRAINT package_role_user_object_role_id_fkey FOREIGN KEY (user_object_role_id) REFERENCES user_object_role(id);


--
-- Name: package_search_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_search
    ADD CONSTRAINT package_search_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: package_tag_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_tag
    ADD CONSTRAINT package_tag_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: package_tag_revision_continuity_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_tag_revision
    ADD CONSTRAINT package_tag_revision_continuity_id_fkey FOREIGN KEY (continuity_id) REFERENCES package_tag(id);


--
-- Name: package_tag_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_tag
    ADD CONSTRAINT package_tag_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_tag_revision_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_tag_revision
    ADD CONSTRAINT package_tag_revision_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: package_tag_revision_revision_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_tag_revision
    ADD CONSTRAINT package_tag_revision_revision_id_fkey FOREIGN KEY (revision_id) REFERENCES revision(id);


--
-- Name: package_tag_revision_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_tag_revision
    ADD CONSTRAINT package_tag_revision_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: package_tag_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY package_tag
    ADD CONSTRAINT package_tag_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: rating_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY rating
    ADD CONSTRAINT rating_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: rating_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY rating
    ADD CONSTRAINT rating_user_id_fkey FOREIGN KEY (user_id) REFERENCES "user"(id);


--
-- Name: system_role_user_object_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY system_role
    ADD CONSTRAINT system_role_user_object_role_id_fkey FOREIGN KEY (user_object_role_id) REFERENCES user_object_role(id);


--
-- Name: user_object_role_authorized_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY user_object_role
    ADD CONSTRAINT user_object_role_authorized_group_id_fkey FOREIGN KEY (authorized_group_id) REFERENCES authorization_group(id);


--
-- Name: user_object_role_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY user_object_role
    ADD CONSTRAINT user_object_role_user_id_fkey FOREIGN KEY (user_id) REFERENCES "user"(id);


--
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

