<html xmlns:py="http://genshi.edgewall.org/"
  xmlns:xi="http://www.w3.org/2001/XInclude">
  
  <py:def function="page_title">Repository History</py:def>

  <div py:match="content">
    <h2>Repository History</h2>
    <p>This page lists all changes to package database, with most recent
    changes first. It is also available as an <a href="?format=atom">Atom
      Feed</a>.</p>

    <table py:match="paginatedlistitems">
      <tr>
        <th>Number</th><th>Timestamp</th><th>Author</th><th>Log Message</th>
      </tr>
      <py:for each="item in c.page.items">
      <tr>
        <td>
          ${
            XML(
            h.link_to(item.id,
              h.url_for(
                controller='revision',
                action='read',
                id=item.id)
              )
            )
          }
          <py:if test="c.show_purge_links">
          ${
            XML(
            h.link_to('Purge',
              h.url_for(
                controller='revision',
                action='purge',
                id=item.id),
              confirm='Are you sure?'
              )
            )
          }
          </py:if>
        </td>
        <td>${item.timestamp}</td>
        <td>${item.author}</td>
        <td>${item.message}</td>
      </tr>
      </py:for>
    </table>

    <xi:include href="../paginated_list.html" />

  </div>

  <xi:include href="layout.html" />
</html>
